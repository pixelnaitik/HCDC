function initPartnerCarousel(){let s=document.querySelector(".partner-carousel-wrapper"),l=document.querySelector(".partner-carousel");if(s&&l){let t=!1,o=0,n=0,r=()=>{l.style.animationPlayState="paused",t=!0},e=()=>{setTimeout(()=>{t||(l.style.animationPlayState="running")},2e3)};s.addEventListener("touchstart",e=>{r(),o=e.touches[0].pageX-s.offsetLeft,n=s.scrollLeft},{passive:!0}),s.addEventListener("touchmove",e=>{t&&(e=e.touches[0].pageX-s.offsetLeft,e=1.5*(o-e),s.scrollLeft=n+e)},{passive:!0}),s.addEventListener("touchend",()=>{t=!1,e()}),s.addEventListener("mouseenter",r),s.addEventListener("mouseleave",()=>{t=!1,e()}),s.addEventListener("click",()=>{r(),setTimeout(()=>{t=!1,e()},3e3)})}}function initNavbar(){let e=document.getElementById("navbar");window.addEventListener("scroll",()=>{50<window.scrollY?e.classList.add("scrolled"):e.classList.remove("scrolled")})}function initMobileMenu(){let t=document.getElementById("mobileMenuBtn"),o=document.getElementById("navMenu");t&&o&&(t.addEventListener("click",()=>{o.classList.toggle("active"),t.classList.toggle("active")}),o.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",()=>{o.classList.remove("active"),t.classList.remove("active")})}))}function initScrollAnimations(){var e=document.querySelectorAll(".fade-in");let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>t.observe(e))}function initBookTestModal(){let t=document.getElementById("bookTestModal");var e=document.getElementById("bookTestBtn"),o=document.getElementById("heroBookTest"),n=document.getElementById("modalClose");let r=document.getElementById("prevStep"),s=document.getElementById("nextStep"),l=document.getElementById("confirmWhatsApp"),a=document.getElementById("confirmCall"),i=1,c=2;function d(){t.classList.remove("active"),document.body.style.overflow="",i=1,u()}function u(){document.querySelectorAll(".step-dot").forEach((e,t)=>{e.classList.toggle("active",t<i)}),document.querySelectorAll(".step-content").forEach((e,t)=>{e.classList.toggle("active",t+1===i)}),r.style.display=1<i?"block":"none",s.style.display=i<c?"block":"none",l.style.display=i===c?"flex":"none",a.style.display=i===c?"flex":"none"}[e,o,...document.querySelectorAll(".trigger-booking-modal")].forEach(e=>{e&&e.addEventListener("click",e=>{e.preventDefault(),t.classList.add("active"),document.body.style.overflow="hidden"})}),n&&n.addEventListener("click",()=>{d()}),t.addEventListener("click",e=>{e.target===t&&d()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&d()}),r&&r.addEventListener("click",()=>{1<i&&(i--,u())}),s&&s.addEventListener("click",()=>{i<c&&(i++,u(),2===i)&&updateBookingSummary()}),l&&l.addEventListener("click",e=>{e.preventDefault();e=generateWhatsAppMessage();window.open("https://wa.me/9162216654?text="+encodeURIComponent(e),"_blank")})}function initTestOptions(){document.querySelectorAll('.test-option input[type="checkbox"]').forEach(t=>{t.addEventListener("change",()=>{var e=t.closest(".test-option");t.checked?e.classList.add("selected"):e.classList.remove("selected")})})}function initLabOptions(){document.querySelectorAll(".lab-option").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".lab-option").forEach(e=>{e.classList.remove("selected"),e.querySelector('input[type="radio"]').checked=!1}),e.classList.add("selected"),e.querySelector('input[type="radio"]').checked=!0})})}function updateBookingSummary(){var e=document.getElementById("bookingSummary");if(e){let t=[];document.querySelectorAll(".test-option.selected").forEach(e=>{e=e.querySelector("span:first-of-type").textContent;t.push(e)});var o=document.getElementById("customTests")?.value?.trim()||"";o&&t.push(o),e.innerHTML=`
    <h4 style="margin-bottom: 12px; color: var(--slate-800);">Booking Summary</h4>
    <p style="margin-bottom: 8px;"><strong>Tests:</strong> ${0<t.length?t.join(", "):"None selected"}</p>
  `}}function generateWhatsAppMessage(){var e=document.getElementById("patientName")?.value||"Not provided",t=document.getElementById("patientPhone")?.value||"Not provided";let o=[];document.querySelectorAll(".test-option.selected").forEach(e=>{e=e.querySelector("span:first-of-type").textContent;o.push(e)});var n=document.getElementById("customTests")?.value?.trim()||"",n=(n&&o.push(n),document.getElementById("patientQueries")?.value?.trim()||"");return`Hello! I would like to book a test at Health Care Diagnostic Center.

*Patient Name:* ${e}
*Phone:* ${t}
*Tests:* ${o.join(", ")||"None selected"}
${n?"*Queries:* "+n:""}

Please confirm my booking. Thank you!`}function initScrollToTop(){let e=document.getElementById("scrollTop");e&&(window.addEventListener("scroll",()=>{500<window.scrollY?e.classList.add("visible"):e.classList.remove("visible")}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))}function initContactForm(){let s=document.getElementById("contactForm");s&&s.addEventListener("submit",e=>{e.preventDefault();var e=document.getElementById("name"),t=document.getElementById("email"),o=document.getElementById("phone"),n=document.getElementById("message");let r=!0;e.value.trim()?clearError(e):(showError(e,"Name is required"),r=!1),t.value.trim()&&isValidEmail(t.value)?clearError(t):(showError(t,"Valid email is required"),r=!1),o.value.trim()&&isValidPhone(o.value)?clearError(o):(showError(o,"Valid phone number is required"),r=!1),n.value.trim()?clearError(n):(showError(n,"Message is required"),r=!1),r&&(showSuccessMessage(),s.reset())})}function showError(e,t){var o=e.closest(".form-group");o.classList.add("error");let n=o.querySelector(".error-message");n||((n=document.createElement("span")).className="error-message",n.style.cssText="color: var(--rose-500); font-size: 0.875rem; margin-top: 4px; display: block;",o.appendChild(n)),n.textContent=t,e.style.borderColor="var(--rose-400)"}function clearError(e){var t=e.closest(".form-group"),t=(t.classList.remove("error"),t.querySelector(".error-message"));t&&t.remove(),e.style.borderColor=""}function isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function isValidPhone(e){return/^[0-9]{10}$/.test(e.replace(/\D/g,""))}function showSuccessMessage(){let e=document.createElement("div");e.className="success-message",e.style.cssText=`
    background: var(--safety-green-100);
    color: var(--safety-green-500);
    padding: 16px 24px;
    border-radius: 12px;
    margin-bottom: 20px;
    text-align: center;
    animation: fadeIn 0.3s ease;
  `,e.innerHTML=`
    <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" style="vertical-align: middle; margin-right: 8px;"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
    Thank you! We'll contact you shortly.
  `;var t=document.getElementById("contactForm");t.parentNode.insertBefore(e,t),setTimeout(()=>{e.remove()},5e3)}function initParallax(){let e=document.querySelectorAll("[data-parallax]");window.addEventListener("scroll",()=>{let o=window.pageYOffset;e.forEach(e=>{var t=e.dataset.parallax||.5;e.style.transform=`translateY(${o*t}px)`})})}document.addEventListener("DOMContentLoaded",()=>{initNavbar(),initMobileMenu(),initScrollAnimations(),initBookTestModal(),initScrollToTop(),initTestOptions(),initLabOptions(),initContactForm(),initPartnerCarousel()});